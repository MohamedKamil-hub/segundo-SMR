instalar mysql

CRONTAB

show databases;
create databases 2smr;
create databases if not exists 2smr;
use 2smr;

create table if not exists t1(
id int not null auto_increment,
nombre varchar(255),
apellido varchar (255),
edad int:unsigned not null check (edad>18)
);


Olga Moreno Martín

16:20

sudo apt-get install mariadb-serversudo apt-get install mariadb-client

sudo apt-get install mariadb-server sudo apt-get install mariadb-client

_keep_Fijado

sudo systemctl start mariadb sudo systemctl enable mariadb sudo systemctl status mariadb sudo mariadb -u root -p

_keep_Fijado



Olga Moreno Martín

16:21

sudo mariadb-dump -u root -p --all-databases > backup_mariadb.sql

_keep_Fijado



Olga Moreno Martín

16:27

show databases;


actualizar dia 28




login as: user
user@192.168.1.147's password:
Welcome to Ubuntu 24.04.3 LTS (GNU/Linux 6.14.0-33-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

El mantenimiento de seguridad expandido para Applications está desactivado

Se pueden aplicar 92 actualizaciones de forma inmediata.
Para ver estas actualizaciones adicionales, ejecute: apt list --upgradable

Active ESM Apps para recibir futuras actualizaciones de seguridad adicionales.
Vea https://ubuntu.com/esm o ejecute «sudo pro status»

Last login: Fri Oct 31 16:31:02 2025 from 192.168.1.143
user@userpc:~$ sudo apt get install mysql-server
[sudo] contraseña para user:
E: Operación inválida: get
user@userpc:~$ sudo apt-get install mysql-server
Leyendo lista de paquetes... Hecho
Creando árbol de dependencias... Hecho
Leyendo la información de estado... Hecho
mysql-server ya está en su versión más reciente (8.0.43-0ubuntu0.24.04.2).
0 actualizados, 0 nuevos se instalarán, 0 para eliminar y 84 no actualizados.
user@userpc:~$ sudo apt-get update
Des:1 http://security.ubuntu.com/ubuntu noble-security InRelease [126 kB]
Obj:2 http://es.archive.ubuntu.com/ubuntu noble InRelease
Des:3 http://es.archive.ubuntu.com/ubuntu noble-updates InRelease [126 kB]
Des:4 http://security.ubuntu.com/ubuntu noble-security/main amd64 Components [2
Des:5 http://security.ubuntu.com/ubuntu noble-security/restricted amd64 Compone
Des:6 http://security.ubuntu.com/ubuntu noble-security/universe amd64 Component
Des:7 http://security.ubuntu.com/ubuntu noble-security/multiverse amd64 Compone
Des:8 http://es.archive.ubuntu.com/ubuntu noble-backports InRelease [126 kB]
Des:9 http://es.archive.ubuntu.com/ubuntu noble-updates/main amd64 Packages [1.
Des:10 http://es.archive.ubuntu.com/ubuntu noble-updates/main amd64 Components
Des:11 http://es.archive.ubuntu.com/ubuntu noble-updates/restricted amd64 Compo
Des:12 http://es.archive.ubuntu.com/ubuntu noble-updates/universe amd64 Package
Des:13 http://es.archive.ubuntu.com/ubuntu noble-updates/universe amd64 Compone
Des:14 http://es.archive.ubuntu.com/ubuntu noble-updates/multiverse amd64 Compo
Des:15 http://es.archive.ubuntu.com/ubuntu noble-backports/main amd64 Component
Des:16 http://es.archive.ubuntu.com/ubuntu noble-backports/restricted amd64 Com]
Des:17 http://es.archive.ubuntu.com/ubuntu noble-backports/universe amd64 Compo]
Des:18 http://es.archive.ubuntu.com/ubuntu noble-backports/multiverse amd64 Com]
Descargados 4.097 kB en 41s (100 kB/s)
Leyendo lista de paquetes... Hecho
user@userpc:~$ sudo apt-get install mariadb-server
Leyendo lista de paquetes... Hecho
Creando árbol de dependencias... Hecho
Leyendo la información de estado... Hecho
Los paquetes indicados a continuación se instalaron de forma automática y ya nos.
  libaio1t64 libevent-core-2.1-7t64 libevent-pthreads-2.1-7t64 libmecab2
  libprotobuf-lite32t64 mecab-ipadic mecab-ipadic-utf8 mecab-utils
Utilice «sudo apt autoremove» para eliminarlos.
Se instalarán los siguientes paquetes adicionales:
  galera-4 gawk libconfig-inifiles-perl libdbd-mysql-perl libdbi-perl libmariad
  libmysqlclient21 libsigsegv2 libsnappy1v5 libterm-readkey-perl liburing2 mari
  mariadb-client-core mariadb-common mariadb-plugin-provider-bzip2
  mariadb-plugin-provider-lz4 mariadb-plugin-provider-lzma mariadb-plugin-provi
  mariadb-plugin-provider-snappy mariadb-server-core pv socat
Paquetes sugeridos:
  gawk-doc libmldbm-perl libnet-daemon-perl libsql-statement-perl mailx mariadb
  doc-base
Los siguientes paquetes se ELIMINARÁN:
  mysql-client-8.0 mysql-client-core-8.0 mysql-server mysql-server-8.0
  mysql-server-core-8.0
Se instalarán los siguientes paquetes NUEVOS:
  galera-4 gawk libconfig-inifiles-perl libdbd-mysql-perl libdbi-perl libmariad
  libmysqlclient21 libsigsegv2 libsnappy1v5 libterm-readkey-perl liburing2 mari
  mariadb-client-core mariadb-common mariadb-plugin-provider-bzip2
  mariadb-plugin-provider-lz4 mariadb-plugin-provider-lzma mariadb-plugin-provi
  mariadb-plugin-provider-snappy mariadb-server mariadb-server-core pv socat
0 actualizados, 23 nuevos se instalarán, 5 para eliminar y 84 no actualizados.
Se necesita descargar 19,5 MB de archivos.
Se utilizarán 16,6 MB de espacio de disco adicional después de esta operación.
¿Desea continuar? [S/n] s
Des:1 http://es.archive.ubuntu.com/ubuntu noble/universe amd64 galera-4 amd64 2 [736 kB]
Des:2 http://es.archive.ubuntu.com/ubuntu noble/main amd64 libsigsegv2 amd64 2.5,0 kB]
Des:3 http://es.archive.ubuntu.com/ubuntu noble/main amd64 gawk amd64 1:5.2.1-2]
Des:4 http://es.archive.ubuntu.com/ubuntu noble-updates/universe amd64 mariadb-0.11.13-0ubuntu0.24.04.1 [28,3 kB]
Des:5 http://es.archive.ubuntu.com/ubuntu noble/main amd64 libdbi-perl amd64 1.21 kB]
Des:6 http://es.archive.ubuntu.com/ubuntu noble/main amd64 libconfig-inifiles-p03-2 [39,4 kB]
Des:7 http://es.archive.ubuntu.com/ubuntu noble-updates/universe amd64 libmaria.11.13-0ubuntu0.24.04.1 [196 kB]
Des:8 http://es.archive.ubuntu.com/ubuntu noble-updates/universe amd64 mariadb-d64 1:10.11.13-0ubuntu0.24.04.1 [1.037 kB]
Des:9 http://es.archive.ubuntu.com/ubuntu noble-updates/universe amd64 mariadb-:10.11.13-0ubuntu0.24.04.1 [2.500 kB]
Des:10 http://es.archive.ubuntu.com/ubuntu noble/main amd64 liburing2 amd64 2.5 kB]
Des:11 http://es.archive.ubuntu.com/ubuntu noble-updates/universe amd64 mariadbmd64 1:10.11.13-0ubuntu0.24.04.1 [8.392 kB]
Des:12 http://es.archive.ubuntu.com/ubuntu noble/main amd64 socat amd64 1.8.0.0kB]
Des:13 http://es.archive.ubuntu.com/ubuntu noble-updates/universe amd64 mariadb1:10.11.13-0ubuntu0.24.04.1 [3.464 kB]
Des:14 http://es.archive.ubuntu.com/ubuntu noble-updates/main amd64 libmysqlcli0.43-0ubuntu0.24.04.2 [1.254 kB]
Des:15 http://es.archive.ubuntu.com/ubuntu noble/universe amd64 libdbd-mysql-pe-1ubuntu3 [85,5 kB]
Des:16 http://es.archive.ubuntu.com/ubuntu noble/main amd64 libterm-readkey-perbuild4 [23,1 kB]
Des:17 http://es.archive.ubuntu.com/ubuntu noble-updates/universe amd64 mariadber-bzip2 amd64 1:10.11.13-0ubuntu0.24.04.1 [13,9 kB]
Des:18 http://es.archive.ubuntu.com/ubuntu noble-updates/universe amd64 mariadber-lz4 amd64 1:10.11.13-0ubuntu0.24.04.1 [13,8 kB]
Des:19 http://es.archive.ubuntu.com/ubuntu noble-updates/universe amd64 mariadber-lzma amd64 1:10.11.13-0ubuntu0.24.04.1 [13,8 kB]
Des:20 http://es.archive.ubuntu.com/ubuntu noble-updates/universe amd64 mariadber-lzo amd64 1:10.11.13-0ubuntu0.24.04.1 [13,8 kB]
Des:21 http://es.archive.ubuntu.com/ubuntu noble/main amd64 libsnappy1v5 amd64  [28,6 kB]
Des:22 http://es.archive.ubuntu.com/ubuntu noble-updates/universe amd64 mariadber-snappy amd64 1:10.11.13-0ubuntu0.24.04.1 [13,8 kB]
Des:23 http://es.archive.ubuntu.com/ubuntu noble/main amd64 pv amd64 1.8.5-2bui
Descargados 19,5 MB en 3min 50s (84,8 kB/s)
Preconfigurando paquetes ...
(Leyendo la base de datos ... 154014 ficheros o directorios instalados actualme
Desinstalando mysql-server (8.0.43-0ubuntu0.24.04.2) ...
Desinstalando mysql-server-8.0 (8.0.43-0ubuntu0.24.04.2) ...
Warning: The unit file, source configuration file or drop-ins of mysql.service k. Run 'systemctl daemon-reload' to reload units.
update-alternatives: utilizando /etc/mysql/my.cnf.fallback para proveer /etc/my.cnf) en modo automático
Desinstalando mysql-client-8.0 (8.0.43-0ubuntu0.24.04.2) ...
Desinstalando mysql-client-core-8.0 (8.0.43-0ubuntu0.24.04.2) ...
Desinstalando mysql-server-core-8.0 (8.0.43-0ubuntu0.24.04.2) ...
Seleccionando el paquete galera-4 previamente no seleccionado.
(Leyendo la base de datos ... 153804 ficheros o directorios instalados actualme
Preparando para desempaquetar .../galera-4_26.4.16-2build4_amd64.deb ...
info: The home dir /nonexistent you specified can't be accessed: No such file o

info: Seleccionando un UID del rango 100 a 999 ...

info: Añadiendo el usuario del sistema `_galera' (UID 124) ...
info: Añadiendo un nuevo usuario `_galera' (UID 124) con grupo `nogroup' ...
info: Not creating `/nonexistent'.
Desempaquetando galera-4 (26.4.16-2build4) ...
Seleccionando el paquete libsigsegv2:amd64 previamente no seleccionado.
Preparando para desempaquetar .../libsigsegv2_2.14-1ubuntu2_amd64.deb ...
Desempaquetando libsigsegv2:amd64 (2.14-1ubuntu2) ...
Configurando libsigsegv2:amd64 (2.14-1ubuntu2) ...
Seleccionando el paquete gawk previamente no seleccionado.
(Leyendo la base de datos ... 153820 ficheros o directorios instalados actualme
Preparando para desempaquetar .../0-gawk_1%3a5.2.1-2build3_amd64.deb ...
Desempaquetando gawk (1:5.2.1-2build3) ...
Seleccionando el paquete mariadb-common previamente no seleccionado.
Preparando para desempaquetar .../1-mariadb-common_1%3a10.11.13-0ubuntu0.24.04.
Desempaquetando mariadb-common (1:10.11.13-0ubuntu0.24.04.1) ...
Seleccionando el paquete libdbi-perl:amd64 previamente no seleccionado.
Preparando para desempaquetar .../2-libdbi-perl_1.643-4build3_amd64.deb ...
Desempaquetando libdbi-perl:amd64 (1.643-4build3) ...
Seleccionando el paquete libconfig-inifiles-perl previamente no seleccionado.
Preparando para desempaquetar .../3-libconfig-inifiles-perl_3.000003-2_all.deb
Desempaquetando libconfig-inifiles-perl (3.000003-2) ...
Seleccionando el paquete libmariadb3:amd64 previamente no seleccionado.
Preparando para desempaquetar .../4-libmariadb3_1%3a10.11.13-0ubuntu0.24.04.1_a
Desempaquetando libmariadb3:amd64 (1:10.11.13-0ubuntu0.24.04.1) ...
Seleccionando el paquete mariadb-client-core previamente no seleccionado.
Preparando para desempaquetar .../5-mariadb-client-core_1%3a10.11.13-0ubuntu0.2eb ...
Desempaquetando mariadb-client-core (1:10.11.13-0ubuntu0.24.04.1) ...
Seleccionando el paquete mariadb-client previamente no seleccionado.
Preparando para desempaquetar .../6-mariadb-client_1%3a10.11.13-0ubuntu0.24.04..
Desempaquetando mariadb-client (1:10.11.13-0ubuntu0.24.04.1) ...
Seleccionando el paquete liburing2:amd64 previamente no seleccionado.
Preparando para desempaquetar .../7-liburing2_2.5-1build1_amd64.deb ...
Desempaquetando liburing2:amd64 (2.5-1build1) ...
Seleccionando el paquete mariadb-server-core previamente no seleccionado.
Preparando para desempaquetar .../8-mariadb-server-core_1%3a10.11.13-0ubuntu0.2eb ...
Desempaquetando mariadb-server-core (1:10.11.13-0ubuntu0.24.04.1) ...
Seleccionando el paquete socat previamente no seleccionado.
Preparando para desempaquetar .../9-socat_1.8.0.0-4build3_amd64.deb ...
Desempaquetando socat (1.8.0.0-4build3) ...
Configurando mariadb-common (1:10.11.13-0ubuntu0.24.04.1) ...
update-alternatives: utilizando /etc/mysql/mariadb.cnf para proveer /etc/mysql/) en modo automático
Seleccionando el paquete mariadb-server previamente no seleccionado.
(Leyendo la base de datos ... 154437 ficheros o directorios instalados actualme
Preparando para desempaquetar .../00-mariadb-server_1%3a10.11.13-0ubuntu0.24.04..
/var/lib/mysql: found previous version 8.0
The contents of /var/lib/mysql/ indicates a
version that cannot automatically be upgraded. Therefore the
previous data directory will be renamed to /var/lib/mysql-8.0 and
a new data directory will be initialized at /var/lib/mysql.
Please manually export/import your data (e.g. with mysqldump) if needed.
Desempaquetando mariadb-server (1:10.11.13-0ubuntu0.24.04.1) ...
Seleccionando el paquete libmysqlclient21:amd64 previamente no seleccionado.
Preparando para desempaquetar .../01-libmysqlclient21_8.0.43-0ubuntu0.24.04.2_a
Desempaquetando libmysqlclient21:amd64 (8.0.43-0ubuntu0.24.04.2) ...
Seleccionando el paquete libdbd-mysql-perl:amd64 previamente no seleccionado.
Preparando para desempaquetar .../02-libdbd-mysql-perl_4.052-1ubuntu3_amd64.deb
Desempaquetando libdbd-mysql-perl:amd64 (4.052-1ubuntu3) ...
Seleccionando el paquete libterm-readkey-perl previamente no seleccionado.
Preparando para desempaquetar .../03-libterm-readkey-perl_2.38-2build4_amd64.de
Desempaquetando libterm-readkey-perl (2.38-2build4) ...
Seleccionando el paquete mariadb-plugin-provider-bzip2 previamente no seleccion
Preparando para desempaquetar .../04-mariadb-plugin-provider-bzip2_1%3a10.11.134.1_amd64.deb ...
Desempaquetando mariadb-plugin-provider-bzip2 (1:10.11.13-0ubuntu0.24.04.1) ...
Seleccionando el paquete mariadb-plugin-provider-lz4 previamente no seleccionad
Preparando para desempaquetar .../05-mariadb-plugin-provider-lz4_1%3a10.11.13-01_amd64.deb ...
Desempaquetando mariadb-plugin-provider-lz4 (1:10.11.13-0ubuntu0.24.04.1) ...
Seleccionando el paquete mariadb-plugin-provider-lzma previamente no selecciona
Preparando para desempaquetar .../06-mariadb-plugin-provider-lzma_1%3a10.11.13-.1_amd64.deb ...
Desempaquetando mariadb-plugin-provider-lzma (1:10.11.13-0ubuntu0.24.04.1) ...
Seleccionando el paquete mariadb-plugin-provider-lzo previamente no seleccionad
Preparando para desempaquetar .../07-mariadb-plugin-provider-lzo_1%3a10.11.13-01_amd64.deb ...
Desempaquetando mariadb-plugin-provider-lzo (1:10.11.13-0ubuntu0.24.04.1) ...
Seleccionando el paquete libsnappy1v5:amd64 previamente no seleccionado.
Preparando para desempaquetar .../08-libsnappy1v5_1.1.10-1build1_amd64.deb ...
Desempaquetando libsnappy1v5:amd64 (1.1.10-1build1) ...
Seleccionando el paquete mariadb-plugin-provider-snappy previamente no seleccio
Preparando para desempaquetar .../09-mariadb-plugin-provider-snappy_1%3a10.11.104.1_amd64.deb ...
Desempaquetando mariadb-plugin-provider-snappy (1:10.11.13-0ubuntu0.24.04.1) ..
Seleccionando el paquete pv previamente no seleccionado.
Preparando para desempaquetar .../10-pv_1.8.5-2build1_amd64.deb ...
Desempaquetando pv (1.8.5-2build1) ...
Configurando libconfig-inifiles-perl (3.000003-2) ...
Configurando galera-4 (26.4.16-2build4) ...
Configurando libmysqlclient21:amd64 (8.0.43-0ubuntu0.24.04.2) ...
Configurando gawk (1:5.2.1-2build3) ...
Configurando libsnappy1v5:amd64 (1.1.10-1build1) ...
Configurando socat (1.8.0.0-4build3) ...
Configurando libmariadb3:amd64 (1:10.11.13-0ubuntu0.24.04.1) ...
Configurando pv (1.8.5-2build1) ...
Configurando libterm-readkey-perl (2.38-2build4) ...
Configurando liburing2:amd64 (2.5-1build1) ...
Configurando libdbi-perl:amd64 (1.643-4build3) ...
Configurando mariadb-client-core (1:10.11.13-0ubuntu0.24.04.1) ...
Configurando libdbd-mysql-perl:amd64 (4.052-1ubuntu3) ...
Configurando mariadb-server-core (1:10.11.13-0ubuntu0.24.04.1) ...
Configurando mariadb-client (1:10.11.13-0ubuntu0.24.04.1) ...
Configurando mariadb-server (1:10.11.13-0ubuntu0.24.04.1) ...
Instalando una nueva versión del fichero de configuración /etc/mysql/debian-sta
Failed to stop mariadb.service: Unit mariadb.service not loaded.
invoke-rc.d: initscript mariadb, action "stop" failed.
renamed '/etc/logrotate.d/mysql-server' -> '/etc/logrotate.d/mysql-server.dpkg-
Created symlink /etc/systemd/system/multi-user.target.wants/mariadb.service → /d/system/mariadb.service.
Configurando mariadb-plugin-provider-bzip2 (1:10.11.13-0ubuntu0.24.04.1) ...
Configurando mariadb-plugin-provider-lzma (1:10.11.13-0ubuntu0.24.04.1) ...
Configurando mariadb-plugin-provider-lzo (1:10.11.13-0ubuntu0.24.04.1) ...
Configurando mariadb-plugin-provider-lz4 (1:10.11.13-0ubuntu0.24.04.1) ...
Configurando mariadb-plugin-provider-snappy (1:10.11.13-0ubuntu0.24.04.1) ...
Procesando disparadores para man-db (2.12.0-4build2) ...
Procesando disparadores para libc-bin (2.39-0ubuntu8.6) ...
Procesando disparadores para mariadb-server (1:10.11.13-0ubuntu0.24.04.1) ...
user@userpc:~$ sudo apt-get install mariadb-client
Leyendo lista de paquetes... Hecho
Creando árbol de dependencias... Hecho
Leyendo la información de estado... Hecho
mariadb-client ya está en su versión más reciente (1:10.11.13-0ubuntu0.24.04.1)
fijado mariadb-client como instalado manualmente.
Los paquetes indicados a continuación se instalaron de forma automática y ya nos.
  libaio1t64 libevent-core-2.1-7t64 libevent-pthreads-2.1-7t64 libmecab2
  libprotobuf-lite32t64 mecab-ipadic mecab-ipadic-utf8 mecab-utils
Utilice «sudo apt autoremove» para eliminarlos.
0 actualizados, 0 nuevos se instalarán, 0 para eliminar y 84 no actualizados.
user@userpc:~$ sudo systemctl start mariadb
user@userpc:~$ sudo systemctl enable mariadb
Synchronizing state of mariadb.service with SysV service script with /usr/lib/systemd/systemd-sysv-install.
Executing: /usr/lib/systemd/systemd-sysv-install enable mariadb
user@userpc:~$ sudo systemctl status mariadb
● mariadb.service - MariaDB 10.11.13 database server
     Loaded: loaded (/usr/lib/systemd/system/mariadb.service; enabled; preset:>
     Active: active (running) since Sat 2025-11-01 16:42:23 CET; 1min 50s ago
       Docs: man:mariadbd(8)
             https://mariadb.com/kb/en/library/systemd/
   Main PID: 3242 (mariadbd)
     Status: "Taking your SQL requests now..."
      Tasks: 10 (limit: 30389)
     Memory: 78.8M (peak: 82.2M)
        CPU: 348ms
     CGroup: /system.slice/mariadb.service
             └─3242 /usr/sbin/mariadbd

nov 01 16:42:23 userpc mariadbd[3242]: 2025-11-01 16:42:23 0 [Note] Plugin 'FE>
nov 01 16:42:23 userpc mariadbd[3242]: 2025-11-01 16:42:23 0 [Warning] You nee>
nov 01 16:42:23 userpc mariadbd[3242]: 2025-11-01 16:42:23 0 [Note] Server soc>
nov 01 16:42:23 userpc mariadbd[3242]: 2025-11-01 16:42:23 0 [Note] InnoDB: Bu>
nov 01 16:42:23 userpc mariadbd[3242]: 2025-11-01 16:42:23 0 [Note] /usr/sbin/>
nov 01 16:42:23 userpc mariadbd[3242]: Version: '10.11.13-MariaDB-0ubuntu0.24.>
nov 01 16:42:23 userpc systemd[1]: Started mariadb.service - MariaDB 10.11.13 >
nov 01 16:42:23 userpc /etc/mysql/debian-start[3261]: Upgrading MariaDB tables>
nov 01 16:42:23 userpc /etc/mysql/debian-start[3272]: Checking for insecure ro>
nov 01 16:42:23 userpc /etc/mysql/debian-start[3276]: Triggering myisam-recove>
user@userpc:~$ sudo mariadb -u root -p
Enter password:
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 31
Server version: 10.11.13-MariaDB-0ubuntu0.24.04.1 Ubuntu 24.04

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [(none)]> SHOW databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
4 rows in set (0,000 sec)

MariaDB [(none)]> exit
Bye
user@userpc:~$ cd /usr/local/bin/
user@userpc:/usr/local/bin$ ls
user@userpc:/usr/local/bin$ sudo nano backup_mariadb.sh
user@userpc:/usr/local/bin$ ls
user@userpc:/usr/local/bin$ ls
user@userpc:/usr/local/bin$ ls -al
total 8
drwxr-xr-x  2 root root 4096 nov  1 16:53 .
drwxr-xr-x 10 root root 4096 ago  5 18:48 ..
user@userpc:/usr/local/bin$ sudo touch backup_mariadb.sh
user@userpc:/usr/local/bin$ ls
backup_mariadb.sh
user@userpc:/usr/local/bin$



